class Crumble{constructor(){this.banner=void 0,this.config=void 0,this.tracking=void 0,this.PreBanner=void 0,this.Cookies=void 0,this.DOMbanner=void 0}render(){this.addCss(),this.createDOMElements(),this.checkStatus()}addCss(){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://cdn.hostingme.co.uk/css/crumble.min.css"),document.head.appendChild(e)}createDOMElements(){this.PreBanner=document.createElement("div"),this.PreBanner.innerHTML=`<button type="button" id="prebannerBtn" class="prebanner prebanner__border__${this.config.bannerStyle} crumble__${this.config.position} crumble__${this.config.border} animation" style="color: ${this.banner.manageCookies.color}; background-color: ${this.banner.manageCookies.background};">\n                                    <svg fill="currentColor" style="margin-right: 7px; margin-top: 2px; vertical-align: text-top;" height="15px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n                                        <path d="M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 72.96l54.77 54.76a132.036 132.036 0 0 0 72.71 37.06l76.71 12.15c27.51 4.36 55.7-.11 80.53-12.76l69.13-35.21a132.273 132.273 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"/>\n                                    </svg>${this.banner.manageCookies.text}</button>`,this.PreBanner.style.display="none",document.body.appendChild(this.PreBanner),this.Cookies=document.createElement("div"),this.Cookies.innerHTML=`<div\n                                    id="crumble-banner"\n                                    class="crumble__banner crumble__banner__${this.config.bannerStyle} crumble__${this.config.border} crumble__${this.config.position}"\n                                    style="background-color: ${this.banner.background};"\n                                >\n                                <svg style="display: block;margin: auto;" class="svg-icon " width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                  <path class="svg-icon-outline-s" d="M3 45.07C3 54.26 16.92 60 32 60C47.08 60 61 54.26 61 45.07C61 35.88 47.08 29 32 29C16.92 29 3 35.89 3 45.07Z" stroke="#393D45" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-dasharray="4 4"></path>\n                                  <path class="svg-icon-outline-s" d="M3 34V44" stroke="#393D45" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="4 4"></path>\n                                  <path class="svg-icon-outline-s" d="M61 34V44" stroke="#393D45" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="4 4"></path>\n                                  <path d="M32 45C47.08 45 61 39.27 61 30.11V19.81C61 14.65 55.2 35.81 32 35.81C8.80003 35.81 2.89003 15.81 3.00003 19.81C3.11003 23.81 3.00003 29.86 3.00003 30.11C3.00003 39.27 16.92 45 32 45Z" fill="#056CEA" stroke="#056CEA" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round"></path>\n                                  <path d="M32 34C47.08 34 61 28.26 61 19.07C61 9.89 47.08 3 32 3C28.9222 3.00801 28.0063 3.20183 24.9844 3.78584C24.9844 3.78584 25.2398 5.37952 24.5254 6.49689C23.8111 7.61426 21.538 8.32354 21.538 8.32354C21.538 8.32354 22.036 11.1848 19.4287 12.4885C16.8214 13.7921 14.0996 13.3413 14.0996 13.3413C14.0996 13.3413 12.5062 16.4244 9.14164 17.0334C5.77709 17.6424 4.19204 16.9305 3.3 16.78C3.10018 17.5269 2.99931 18.2968 3 19.07C3 28.26 16.92 34 32 34Z" fill="#0199FF" stroke="#0199FF" stroke-width="2"></path>\n                                  <path d="M14 23.11C14 24.89 16.88 26 20 26C23.12 26 26 24.89 26 23.11C26 21.33 23.12 20 20 20C16.88 20 14 21.33 14 23.11Z" fill="svg-icon-outline-i"></path>\n                                  <path d="M32 28.59C32 30.07 34.4 31 37 31C39.6 31 42 30.07 42 28.59C42 27.11 39.6 26 37 26C34.4 26 32 27.11 32 28.59Z" fill="svg-icon-outline-i"></path>\n                                  <path d="M42 12.59C42 14.07 44.16 15 46.5 15C48.84 15 51 14.07 51 12.59C51 11.11 48.84 10 46.5 10C44.16 10 42 11.11 42 12.59Z" fill="svg-icon-outline-i"></path>\n                                  <path d="M26 11.56C26 12.44 27.44 13 29 13C30.56 13 32 12.44 32 11.56C32 10.68 30.56 10 29 10C27.44 10 26 10.67 26 11.56Z" fill="svg-icon-outline-i"></path>\n                                  <path d="M46 22.56C46 23.44 47.44 24 49 24C50.56 24 52 23.44 52 22.56C52 21.68 50.56 21 49 21C47.44 21 46 21.67 46 22.56Z" fill="svg-icon-outline-i"></path>\n                                  <path d="M31 19.07C31 20.26 32.68 21 34.5 21C36.32 21 38 20.26 38 19.07C38 17.88 36.32 17 34.5 17C32.68 17 31 17.89 31 19.07Z" fill="svg-icon-outline-i"></path>\n                                </svg>\n                                    <h3 style="color: ${this.banner.color};">${this.banner.heading}</h3>\n                                    <p style="color: ${this.banner.color};">\n                                        ${this.banner.description}\n                                        <a\n                                            href="${this.banner.link}"\n                                            target="_blank"\n                                            class="read__more"\n                                            style="color: ${this.banner.color};"\n                                        >\n                                            ${this.banner.linkText}\n                                        </a>\n                                    </p>\n                                    <div class="btn__section">\n                                        <button type="button" id="acceptCookies" class="btn__accept accept__btn__styles" style="color: ${this.banner.acceptBtn.color}; background-color: ${this.banner.acceptBtn.background};">\n                                            ${this.banner.acceptBtn.text}\n                                        </button>\n                                        <button type="button" id="rejectCookies" class="btn__settings settings__btn__styles" style="color: ${this.banner.rejectBtn.color}; background-color: ${this.banner.rejectBtn.background};">\n                                            ${this.banner.rejectBtn.text}\n                                        </button>\n                                    </div>\n                                </div>\n                            `,document.body.appendChild(this.Cookies),this.DOMbanner=document.getElementById("crumble-banner"),document.getElementById("prebannerBtn").addEventListener("click",()=>this.openSelector()),document.getElementById("acceptCookies").addEventListener("click",()=>this.acceptCookies()),document.getElementById("rejectCookies").addEventListener("click",()=>this.rejectCookies())}checkStatus(){switch(localStorage.getItem("Crumble")){case"1":this.openManageCookies(),this.activateTracking(),this.addCustomScript();break;case"0":this.openManageCookies();break;default:this.openSelector()}}openManageCookies(){this.PreBanner.style.display=this.config.hideAfterClick?"none":"block",this.DOMbanner.classList.remove("crumble__show")}openSelector(){this.PreBanner.style.display="none",this.DOMbanner.classList.add("crumble__show")}acceptCookies(){localStorage.setItem("Crumble","1"),this.openManageCookies(),this.activateTracking(),this.addCustomScript()}rejectCookies(){localStorage.setItem("Crumble","0"),this.openManageCookies(),this.disableTracking()}activateTracking(){if(this.tracking.AnalyticsCode){let e=document.createElement("script");e.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=${this.tracking.AnalyticsCode}`),document.head.appendChild(e);let t=document.createElement("script");t.text=`window.dataLayer = window.dataLayer || [];\n                                function gtag(){dataLayer.push(arguments);}\n                                gtag('js', new Date());\n                                gtag('config', '${this.tracking.AnalyticsCode}');`,document.head.appendChild(t)}if(this.tracking.FacebookPixelCode){let e=document.createElement("script");e.text=`\n                                    !function(f,b,e,v,n,t,s)\n                                    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n                                    n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n                                    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n                                    n.queue=[];t=b.createElement(e);t.async=!0;\n                                    t.src=v;s=b.getElementsByTagName(e)[0];\n                                    s.parentNode.insertBefore(t,s)}(window, document,'script',\n                                    'https://connect.facebook.net/en_US/fbevents.js');\n                                    fbq('init', '${this.tracking.FacebookPixelCode}');\n                                    fbq('track', 'PageView');\n                                `,document.head.appendChild(e);let t=document.createElement("noscript");t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("style","display:none"),t.setAttribute("src",`https://www.facebook.com/tr?id=${this.tracking.FacebookPixelCode}&ev=PageView&noscript=1`),document.head.appendChild(t)}if(this.tracking.HotjarTrackingCode){let e=document.createElement("script");e.text=`\n                                (function(h,o,t,j,a,r){\n                                    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\n                                    h._hjSettings={hjid:${this.tracking.HotjarTrackingCode},hjsv:6};\n                                    a=o.getElementsByTagName('head')[0];\n                                    r=o.createElement('script');r.async=1;\n                                    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n                                    a.appendChild(r);\n                                })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');\n                                `,document.head.appendChild(e)}}disableTracking(){if(this.tracking.AnalyticsCode){let e=document.createElement("script");e.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=${this.tracking.AnalyticsCode}`),document.head.appendChild(e);let t=document.createElement("script");t.text=`window.dataLayer = window.dataLayer || [];\n                        function gtag(){dataLayer.push(arguments);}\n                        gtag('js', new Date());\n                        gtag('config', '${this.tracking.AnalyticsCode}' , {\n                            'client_storage': 'none',\n                            'anonymize_ip': true\n                        });`,document.head.appendChild(t)}this.clearCookies()}clearCookies(){let e=document.cookie.split("; ");for(let t=0;t<e.length;t++){let n=window.location.hostname.split(".");for(;n.length>0;){let i=encodeURIComponent(e[t].split(";")[0].split("=")[0])+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain="+n.join(".")+" ;path=",o=location.pathname.split("/");for(document.cookie=i+"/";o.length>0;)document.cookie=i+o.join("/"),o.pop();n.shift()}}}addCustomScript(){if(void 0!==this.tracking.customScript){let e;this.tracking.customScript.forEach(t=>{"src"===t.type?(e=document.createElement("script")).setAttribute("src",t.content):"custom"===t.type&&((e=document.createElement("script")).text=t.content),"head"===t.position?document.head.appendChild(e):document.body.appendChild(e)})}}start(e,t){t||(t={});const n=new LanguagesGC(e);this.config={border:t.border||"border",position:t.position||"left",hideAfterClick:t.hideAfterClick||!1,bannerStyle:t.style||2},this.tracking={AnalyticsCode:t.analytics||void 0,FacebookPixelCode:t.facebookPixel||void 0,HotjarTrackingCode:t.hotjar||void 0,customScript:t.customScript||void 0},this.banner={description:t.bannerDescription||n.bannerDescription,linkText:t.bannerLinkText||n.bannerLinkText,link:t.policyLink||"#link",background:t.bannerBackground||"#fff",color:t.bannerColor||"#1d2e38",heading:"none"!==t.bannerHeading?t.bannerHeading||n.bannerHeading:"",acceptBtn:{text:t.acceptBtnText||n.acceptBtnText,background:t.acceptBtnBackground||"#253b48",color:t.acceptBtnColor||"#fff"},rejectBtn:{text:t.rejectBtnText||n.rejectBtnText,background:t.rejectBtnBackground||"#E8E8E8",color:t.rejectBtnColor||"#636363"},manageCookies:{color:t.manageColor||"#1d2e38",background:t.manageBackground||"#fff",text:t.manageText||n.manageText}},window.addEventListener("load",()=>{this.render()})}}class LanguagesGC{constructor(e){this.init();let t=this.arrLang[e]||this.arrLang.en;this.bannerHeading=t.bannerHeading,this.bannerDescription=t.bannerDescription,this.bannerLinkText=t.bannerLinkText,this.acceptBtnText=t.acceptBtnText,this.rejectBtnText=t.rejectBtnText,this.manageText=t.manageText}init(){this.arrLang={en:{bannerHeading:"We use cookies",bannerDescription:"We use our own and third-party cookies to personalize content and to analyze web traffic.",bannerLinkText:"Read more about cookies",acceptBtnText:"Accept cookies",rejectBtnText:"Reject",manageText:"Manage cookies"}}}}const crumble=new Crumble;
